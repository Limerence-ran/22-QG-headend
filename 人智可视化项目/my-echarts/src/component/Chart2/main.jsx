import style from "./main.module.css";
import React, { useState, useEffect } from "react";
import Pointxy from "../../components/point-xy/main";
import Bar from "../../components/bar/main";
import PointNoise from "../../components/point-noise/main";
import { useNavigate } from "react-router-dom";

import { Skeleton } from "antd";

function Chart2() {
    const [datas, setDatas] = useState({});
    const [isshow, setisShow] = useState(false);
    const navigate = useNavigate();

    useEffect(() => {
        // if (localStorage.getItem("data-xy"))
        setDatas(
            // localStorage.getItem("data-xy")
            {
                before_data: [
                    [726717.7707785362, -6.966904958625196],
                    [-362664.71312875097, 5473.638983820947],
                    [-364053.0576497856, -5466.672078862298],
                ],
                distance: [
                    470784.7358806698, 234969.001441937, 235869.0628679321,
                ],
                noise_x: [
                    0.8850719192695725, 0.15956335001662159,
                    0.16281210189537912, -0.003974653692587551,
                    0.24802627440408373, 0.4382162237764278,
                    0.11098508653658799, -0.3023056977373215,
                    -0.1292497789152471, 0.20421578645540642,
                    0.20366856055198918, -1.0594819797745534,
                    -0.7005741101329305, 0.02265178122671474,
                    -0.23561576987967228, -0.11518294825945749,
                    0.04602783017964005, 0.8912018806357904, 0.5511631241584074,
                    0.35267186422381636, -0.022204226846319237,
                    -0.35708527500710147, -0.6920210408089147,
                    0.5353505265589197, -0.7122485629164744,
                    -0.12230335721828609, 0.24462452591875603,
                    0.09555620830877729, -0.19646934658591683,
                    0.04184563088460823, 0.4511061214551503,
                    -1.5421052857538602, -0.7231410264415957, 0.553721072112713,
                    0.4569753769167401, -0.5151622088283312,
                    -0.02193200713184647, -0.17580539103826745,
                    0.31053606045577703, -0.796606651477471,
                    -0.26898707937468125, 0.29237279808579897,
                    -0.07895208219133983, 0.2066440238089157,
                    -1.6929537919868187, -0.44420505947878414,
                    -0.7290136024693047, -0.21036073880308376,
                    0.1388383723050069, 0.5790415386109218, -0.5960754883416425,
                    1.2959888820946075, -0.012335628795672304,
                    0.15943016310541422, -0.3028880739670008,
                    -0.1030053026869295, 0.5424859815637929,
                    -0.42938622422825695, 1.632476781964654,
                    -0.023829818519163794, 0.1966723553666582,
                    -0.1672698451759231, -0.04064378373435936,
                    0.8277358160276378, -0.3849391330633744, 0.5511850983381827,
                    -0.2537504355430003, -0.867850247226541,
                    -0.19349623704719732, 0.08908334753868252,
                    -0.23453313876097914, 0.45929909077013764,
                    -0.73793046521783, 0.04621823209220775, 0.5400457115880476,
                    -0.3684548210703277, -0.04950318816102296,
                    -0.20609240845675983, -0.06678204892725531,
                    0.06772300784595894, -0.5487276054166755,
                    -0.07235498326819076, 1.58518772589558, 1.4584053734627649,
                    -2.040348470062704, -0.9148749405434421, 0.6715038336690317,
                    0.15162103407861674, -0.5486183552146547,
                    -0.15906066072084885, -0.8634771609575757,
                    0.02182196725359425, 0.05809781810120705,
                    0.3063729223957937, 0.11797775644460776,
                    -0.39450543271102767, 0.28423163441942956,
                    0.5540139845998011, 0.1788613387069822, 1.037550077862161,
                ],
                noise_y: [
                    -1.4017847568507875, -1.1649346382444468,
                    0.39304489068839393, -0.2734452897866673,
                    -0.05432062370011657, -0.7195553674635057,
                    -0.03389524242333099, 0.12237159351425819,
                    -0.14551034177094427, 0.2269131313540861,
                    0.7124357405860879, -0.12831637105240717,
                    -1.5804726436355598, 0.22430055462219178,
                    -0.4749203021545778, -0.38999379011555596,
                    -0.8790170459463229, 0.04673310585397011,
                    0.09499633848736669, 0.23808844498302975,
                    0.7368108900136874, 0.9511521285777971, 0.3634768596196448,
                    -0.24792979755112773, 0.9443725279035143,
                    0.00645297192379594, 1.2839324181378473,
                    -0.48510558068132975, 0.017178160077470854,
                    -0.07013072054001088, 0.426349481563549,
                    -0.4987371120913752, -0.18103488284896155,
                    0.062068539970613144, 0.11522035384208422,
                    -1.3438602690504353, -0.223347149105712,
                    -0.32953147295350865, 0.8153851433156194,
                    -0.08301556191766934, 0.17475155929745373,
                    0.22041365578832325, -0.09520650656353355,
                    -1.0573151364846587, 0.9624510580360811,
                    -0.13264202106935866, -0.21532025595831267,
                    -0.007129820025347335, 0.8310522592476237,
                    0.19925643448840907, -0.3496884693395732,
                    -0.4730562679361893, -0.14052762871142857,
                    -0.9357276573402797, -0.8274374530309189,
                    0.011993262698064718, 0.32977783667958604,
                    -0.03185091751799286, -0.438387476700779,
                    -1.0887923914487116, 0.40557242887096295,
                    0.14871894278377235, 0.45954210083286673,
                    -0.2682745031515651, -0.5382266649361768,
                    0.12463676409208262, 0.09745063786209074,
                    0.10547856806565424, -0.39395357295021677,
                    -0.4237105754679995, -0.061879049405435906,
                    -0.1972323199580124, -0.4237499835675469,
                    -0.14475283945877135, 0.08746679670010869,
                    -0.7219626254160929, -0.3671496812427498,
                    0.037738257308476915, -0.1456705222144496,
                    0.014683468607550258, 0.6220272109940579,
                    0.02519749426249962, 0.8427576182249983,
                    -2.1403579647648736, -1.5825041097549517,
                    1.4665000927710978, -0.01011056802825527,
                    -0.011944350169168502, -0.5142930207699301,
                    0.2427470138168037, 0.7647703995311939, -1.150377719890472,
                    0.300581647479383, -0.44926516378949305, 1.9298001388707609,
                    -1.0302238579371439, 0.07626385304645668,
                    -1.9654032435297646, -0.5024949995931691,
                    7.357775272404686e-4,
                ],
                respective_id: [0, 5, 8],
                result_data: [
                    [255933.0349195336, -2.450142498644861],
                    [-127722.46088292448, 1928.2549031552942],
                    [-128210.57403660919, -1925.8047606566427],
                ],
                score: [
                    9.897294044494629, 9.897294044494629, 9.897294044494629,
                ],
                var: 0.4067999375418183,
            }
        );
    }, []);
    function handlesubmit() {
        setisShow(!isshow);
        setTimeout(() => {
            navigate("/Group");
        }, 3000);
    }
    console.log(datas);
    return (
        <>
            <div className={style.content}>
                <div className={style.header}>
                    <span>Data Visualization</span>
                </div>
                <div className={style.data}>
                    <div className={style.chart2}>
                        <div className={style.img}>
                            <Skeleton>
                                {datas ? (
                                    <Pointxy data_xy={datas}></Pointxy>
                                ) : null}
                            </Skeleton>
                        </div>
                        <div className={style.img}>
                            <Skeleton>
                                {datas ? (
                                    <Pointxy data_xy={datas}></Pointxy>
                                ) : null}
                            </Skeleton>
                        </div>
                        <div className={style.img}>
                            <Skeleton>
                                {datas ? <Bar data_xy={datas}></Bar> : null}
                            </Skeleton>
                        </div>
                        <div className={style.img}>
                            <Skeleton>
                                {datas ? (
                                    <PointNoise data_xy={datas}></PointNoise>
                                ) : null}
                            </Skeleton>
                        </div>
                        <div className={style.img}>
                            <Skeleton></Skeleton>
                        </div>
                    </div>
                    <button onClick={handlesubmit}>finish</button>
                </div>
                {isshow && <Vedio />}
            </div>
        </>
    );
}
export default Chart2;
